{"version":3,"sources":["ReactionsList.js","icons/confused.svg","icons/sad.svg","icons/calm.svg","icons/satisfied.svg","icons/love.svg","Firebase.js","LectureTitle.js","LectureReaction.js","LectureReactionStats.js","Lecture.js","LectureList.js","App.js","reportWebVitals.js","index.js"],"names":["ReactionsList","1","2","3","4","5","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","settings","timestampsInSnapshots","LectureTitle","props","state","title","database","ref","this","lectureId","once","snapshot","setState","val","name","className","Component","LectureReaction","handleChange","e","reaction","target","value","disabled","get","then","getRef","set","localStorage","setItem","localReaction","getItem","listReactions","Object","keys","map","key","type","id","onChange","checked","for","src","LectureReactionStats","lectures","estimationsRef","forEach","childSnapshot","push","on","data","newLectures","reduce","list","curr","concat","summ","sum","current","parseInt","listItems","lec","style","width","Math","round","Lecture","match","params","LectureList","to","App","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f05d0081.chunk.js","sourcesContent":["import confused from './icons/confused.svg';\r\nimport sad from './icons/sad.svg';\r\nimport calm from './icons/calm.svg';\r\nimport satisfied from './icons/satisfied.svg';\r\nimport love from './icons/love.svg';\r\n\r\nconst ReactionsList = {\r\n    1: confused,\r\n    2: sad,\r\n    3: calm, \r\n    4: satisfied,\r\n    5: love\r\n};\r\n\r\nexport default ReactionsList;\r\n","export default __webpack_public_path__ + \"static/media/confused.db9b8efb.svg\";","export default __webpack_public_path__ + \"static/media/sad.8471fa19.svg\";","export default __webpack_public_path__ + \"static/media/calm.fe61c2af.svg\";","export default __webpack_public_path__ + \"static/media/satisfied.8c5e0f39.svg\";","export default __webpack_public_path__ + \"static/media/love.71b52726.svg\";","import firebase from 'firebase';\r\n\r\nconst settings = {timestampsInSnapshots: true};\r\n\r\nvar firebaseConfig = {\r\n    apiKey: \"AIzaSyCmGyCwto2RFCqfomEenIHSxRZtySRLKxA\",\r\n    authDomain: \"lecture-estimation.firebaseapp.com\",\r\n    databaseURL: \"https://lecture-estimation-default-rtdb.europe-west1.firebasedatabase.app\",\r\n    projectId: \"lecture-estimation\",\r\n    storageBucket: \"lecture-estimation.appspot.com\",\r\n    messagingSenderId: \"356803054194\",\r\n    appId: \"1:356803054194:web:a4dc1d53b58aef702450eb\",\r\n    measurementId: \"G-1132TD6D91\"\r\n  };\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\nfirebase.firestore().settings(settings);\r\n\r\nexport default firebase;\r\n","import React,{Component} from 'react';\r\nimport firebase from './Firebase';\r\n\r\nclass LectureTitle extends Component{\r\n    constructor(props) {\r\n      super(props);\r\n      this.state = {title: \"\"};\r\n    }  \r\n  \r\n    componentDidMount(){\r\n      firebase.database().ref(\"/lectures/\"+this.props.lectureId).once('value', (snapshot) => {\r\n        this.setState({title: snapshot.val().name});\r\n      });\r\n    }\r\n  \r\n    render() {\r\n      return <h1 className=\"lecture-title\">{this.state.title}</h1>;\r\n    }\r\n}\r\n\r\nexport default LectureTitle;\r\n","import React,{Component} from 'react';\r\nimport firebase from './Firebase';\r\nimport ReactionsList from './ReactionsList';\r\n\r\nclass LectureReaction extends Component{\r\n    constructor(props) {\r\n      super(props);\r\n      let localReaction = localStorage.getItem(this.props.lectureId);\r\n      this.state = {reaction: localReaction, disabled: localReaction !== null};\r\n    }  \r\n  \r\n    handleChange = (e) => {\r\n      this.setState({reaction: e.target.value, disabled: true});\r\n      firebase.database().ref(\"/lectures/\" + this.props.lectureId + \"/estimations/\" + e.target.value).get().then(\r\n        (snapshot) => snapshot.getRef().set(snapshot.val() + 1)\r\n      );\r\n      localStorage.setItem(this.props.lectureId, e.target.value-0);\r\n    }\r\n   \r\n    render() {\r\n      const listReactions = Object.keys(ReactionsList).map((key) =>  \r\n          <div className=\"reactions__radio-wrapper\">\r\n            <input className=\"reactions__radio\" type=\"radio\" name=\"reaction\" id={\"reaction-\" + key} value={key} onChange={this.handleChange} disabled={this.state.disabled} checked={key == this.state.reaction ? \"checked\" : \"\"} />\r\n            <label className=\"reactions__label\" for={\"reaction-\" + key}>\r\n              <img src={ReactionsList[key]} />  \r\n            </label>\r\n          </div>\r\n      );\r\n      return (\r\n        <form className=\"reactions\">{listReactions}</form>\r\n      );\r\n    }\r\n}\r\n\r\nexport default LectureReaction;\r\n","import React,{Component} from 'react';\r\nimport firebase from './Firebase';\r\nimport ReactionsList from './ReactionsList';\r\n\r\nclass LectureReactionStats extends Component{\r\n    constructor(props) {\r\n      super(props);\r\n      this.state = {lectures: []};\r\n    }\r\n  \r\n    componentDidMount(){\r\n      var estimationsRef = firebase.database().ref(\"lectures/\" + this.props.lectureId + \"/estimations\");\r\n      estimationsRef.once('value', (snapshot) => {\r\n        let lectures = [];\r\n        snapshot.forEach(function(childSnapshot) {\r\n          lectures.push({key: childSnapshot.key, val: childSnapshot.val()})\r\n        });\r\n        this.setState({lectures: lectures});\r\n      });\r\n      estimationsRef.on('child_changed', (data) => {\r\n        let newLectures = this.state.lectures.reduce(\r\n          (list, curr) => list.concat(curr.key == data.key ? {key: curr.key, val: data.val()} : curr), []\r\n        );\r\n        this.setState({lectures: newLectures});\r\n      });\r\n    }\r\n  \r\n    render(){\r\n      const summ = this.state.lectures.reduce(function(sum, current) { return sum + parseInt(current.val); }, 0);\r\n      const listItems = this.state.lectures.map((lec) => \r\n        <li className=\"results__item\">\r\n            <img className=\"results__icon\" src={ReactionsList[lec.key]} />\r\n            <span className=\"results__span\" style={{width: Math.round(lec.val / summ * 100) + '%'}}>{lec.val}</span>\r\n        </li>\r\n      );\r\n      return (\r\n        <div className=\"results\">\r\n          <h2>Результаты</h2>\r\n          <ul className=\"results__items\">{listItems}</ul>\r\n        </div>\r\n      );\r\n    }\r\n}\r\n\r\nexport default LectureReactionStats;\r\n","import LectureTitle from './LectureTitle';\r\nimport LectureReaction from './LectureReaction'\r\nimport LectureReactionStats from './LectureReactionStats';\r\n\r\nfunction Lecture(props) {\r\n    return (\r\n      <div className=\"lecture\">\r\n        <LectureTitle lectureId={props.match.params.lectureId} />\r\n        <LectureReaction lectureId={props.match.params.lectureId} />\r\n        <LectureReactionStats lectureId={props.match.params.lectureId} />\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default Lecture;\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport firebase from './Firebase';\r\n\r\nclass LectureList extends Component{\r\n    constructor(props) {\r\n      super(props);\r\n      this.state = {lectures: []};\r\n    }\r\n  \r\n    componentDidMount(){\r\n      var estimationsRef = firebase.database().ref(\"/lectures\");\r\n      estimationsRef.once('value', (snapshot) => {\r\n        let lectures = [];\r\n        snapshot.forEach(function(childSnapshot) {\r\n          lectures.push({key: childSnapshot.key, name: childSnapshot.val().name})\r\n        });\r\n        this.setState({lectures: lectures});\r\n      });\r\n    }\r\n  \r\n    render() {\r\n      const listItems = this.state.lectures.map(\r\n        (lec) => <li className=\"lecture-list__item\"><h2><Link to={'/lecture-estimation/lecture/' + lec.key}>{lec.name}</Link></h2></li>\r\n      );\r\n      return (\r\n        <div className=\"lecture-list\">\r\n          <h1 className=\"lecture-list__title\">Лекции</h1>\r\n          <ul className=\"lecture-list__items\">{listItems}</ul>\r\n        </div>\r\n      );\r\n    }\r\n}\r\n\r\nexport default LectureList;\r\n","import './App.css';\nimport ReactionsList from './ReactionsList';\nimport firebase from './Firebase';\nimport Lecture from './Lecture';\nimport LectureList from './LectureList';\nimport { Switch, Route } from 'react-router-dom';\n\nfunction App() {\n  return (\n    <main className=\"main\">\n      <Switch>\n        <Route exact path='/lecture-estimation/' component={LectureList}/>\n        <Route path='/lecture-estimation/lecture/:lectureId' component={Lecture}/>\n      </Switch>\n    </main>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}